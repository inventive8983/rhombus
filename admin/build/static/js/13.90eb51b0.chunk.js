(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[13],{369:function(e,t,a){"use strict";var n=a(103),r=a.n(n),c=a(135),l={getOrders:function(e){return new Promise((function(e,t){r.a.get("".concat(c.a,"/cart/orders")).then((function(t){e(t.data)})).catch((function(e){console.log(e),t(e)}))}))},getOrder:function(e){return new Promise((function(t,a){r.a.get("".concat(c.a,"/cart/order/").concat(e.id)).then((function(e){t(e.data)})).catch((function(e){console.log(e),a(e)}))}))}};t.a=l},373:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(477),l=a(142),o=a(877),s=function(e){return r.a.createElement(c.a,{overlay:e.menu,placement:e.placement,trigger:["click"]},r.a.createElement("div",{className:"ellipsis-dropdown"},r.a.createElement(o.a,null)))};s.defaultProps={trigger:"click",placement:"bottomRight",menu:r.a.createElement(l.a,null)},t.a=s},381:function(e,t,a){"use strict";a(0),a(872)},382:function(e,t,a){"use strict"},522:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),l=a(17),o=a(74),s=a(122),i=a(210),u=a(523),m=a(82),d=a(874),p=a(334),f=a(869),h=a(524),E=a(342),b=(a(381),a(373),a(134)),v=a(367),g=(a(414),a(382),a(56)),y=(a(428),a(369)),x=s.a.Option,N=["TXN_SUCCESS","TXN_FAILED","TXN_PENDING"],O=function(){var e=Object(c.g)(),t=Object(n.useState)(),a=Object(o.a)(t,2),O=a[0],C=a[1],w=Object(n.useState)(O),S=Object(o.a)(w,2),j=S[0],k=S[1],T=Object(n.useState)([]),I=Object(o.a)(T,2),P=(I[0],I[1]),R=Object(n.useState)([]),A=Object(o.a)(R,2),D=A[0],z=A[1];Object(n.useEffect)((function(){y.a.getOrders().then((function(e){k(e),C(e)})).catch((function(e){i.b.error("Unable to load data. Maybe server not connected.")}))}),[]);var F=[{title:"ID",dataIndex:"orderId"},{title:"Student",dataIndex:"name",sorter:function(e,t){return g.a.antdTableSorter(e,t,"name")}},{title:"Date",dataIndex:"date",render:function(e,t){var a=new Date(t.date);return r.a.createElement("span",null,a.getUTCDate()+1,"/",a.getUTCMonth()+1,"/",a.getUTCFullYear())},sorter:function(e,t){return g.a.antdTableSorter(e,t,"date")}},{title:"Order status",dataIndex:"status",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{color:(a=t.status,"TXN_SUCCESS"===a?"cyan":"TXN_FAILURE"===a?"red":"TXN_PENDING"===a?"gold":"")},t.status));var a},sorter:function(e,t){return g.a.antdTableSorter(e,t,"status")}},{title:"Contact",dataIndex:"phone",sorter:function(e,t){return g.a.antdTableSorter(e,t,"status")}},{title:"Total",dataIndex:"totalAmount",render:function(e,t){return r.a.createElement("span",{className:"font-weight-semibold"},r.a.createElement(v.a,{displayType:"text",value:(Math.round(100*t.totalAmount)/100).toFixed(2),prefix:"Rs",thousandSeparator:!0}))},sorter:function(e,t){return g.a.antdTableSorter(e,t,"totalAmount")}},{title:"",dataIndex:"actions",render:function(t,a){return r.a.createElement(m.a,{onClick:function(){return t=a._id,void e.push("/app/orders/invoice/".concat(t));var t}},r.a.createElement(h.a,null)," View Details")}}],V={onChange:function(e,t){P(t),z(e)}};return r.a.createElement(d.a,null,r.a.createElement(b.a,{alignItems:"center",justifyContent:"between",mobileFlex:!1},r.a.createElement(b.a,{className:"mb-1",mobileFlex:!1},r.a.createElement("div",{className:"mr-md-3 mb-3"},r.a.createElement(p.a,{placeholder:"Search",prefix:r.a.createElement(E.a,null),onChange:function(e){return function(e){var t=e.currentTarget.value,a=e.currentTarget.value?j:O,n=g.a.wildCardSearch(a,t);k(n),z([])}(e)}})),r.a.createElement("div",{className:"mb-3"},r.a.createElement(s.a,{defaultValue:"All",className:"w-100",style:{minWidth:180},onChange:function(e){if("All"!==e){var t=g.a.filterArray(O,"status",e);k(t)}else k(O)},placeholder:"Status"},r.a.createElement(x,{value:"All"},"All payment "),N.map((function(e){return r.a.createElement(x,{key:e,value:e},e)}))))),r.a.createElement("div",null)),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(f.a,{columns:F,dataSource:j,rowKey:"id",rowSelection:Object(l.a)({selectedRowKeys:D,type:"checkbox",preserveSelectedRowKeys:!1},V)})))},C=a(72),w=a(73),S=a(85),j=a(86),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"},T=a(34),I=function(e,t){return n.createElement(T.a,Object.assign({},e,{ref:t,icon:k}))};I.displayName="PrinterOutlined";var P=n.forwardRef(I),R=f.a.Column,A=function(e){Object(S.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,order:{}},n}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.getOrder({id:this.state.id}).then((function(t){e.setState({order:t}),console.log(t)})).catch((function(e){i.b.error("Some error occured.")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-md-flex justify-content-md-between"},r.a.createElement("div",null,r.a.createElement("img",{className:"py-5",src:"/admin/img/logo.png",alt:""}),r.a.createElement("address",null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-semibold text-dark font-size-md"},"Rhombus Education"),r.a.createElement("br",null),r.a.createElement("span",null,"47-D Block Near Vakilon Wali Diggi"),r.a.createElement("br",null),r.a.createElement("span",null,"Sri Ganganagar, Rajasthan 335001"),r.a.createElement("br",null),r.a.createElement("abbr",{className:"text-dark",title:"Phone"},"Phone:"),r.a.createElement("span",null,"8905280050")))),r.a.createElement("div",{className:"mt-3 text-right"},r.a.createElement("h2",{className:"mb-1 font-weight-semibold"},"Invoice #",this.state.order.orderId),r.a.createElement("p",null,this.state.order.date),r.a.createElement("address",null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-semibold text-dark font-size-md"},this.state.order.name),r.a.createElement("br",null),r.a.createElement("span",null,this.state.order.billingAddress," ",r.a.createElement("br",null),this.state.order.city,",",this.state.order.state," ",this.state.order.pincode," ",r.a.createElement("br",null),"Phone: ",this.state.order.phone," ",r.a.createElement("br",null)," Email: ",this.state.order.email))))),r.a.createElement("div",{className:"mt-4"},r.a.createElement(f.a,{dataSource:this.state.order.items,pagination:!1,className:"mb-5"},r.a.createElement(R,{title:"Type",dataIndex:"product",key:"product"}),r.a.createElement(R,{title:"Product",dataIndex:"name",key:"product"}),r.a.createElement(R,{title:"Details",dataIndex:"details",key:"details"}),r.a.createElement(R,{title:"Total",render:function(e){return r.a.createElement(v.a,{displayType:"text",value:(Math.round(100*e.amount)/100).toFixed(2),prefix:"$",thousandSeparator:!0})},key:"total"})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("div",{className:"text-right "},r.a.createElement("h2",{className:"font-weight-semibold mt-3"},r.a.createElement("span",{className:"mr-1"},"Grand Total: "),r.a.createElement(v.a,{displayType:"text",value:this.state.order.totalAmount,prefix:"\u20b9",thousandSeparator:!0})))),r.a.createElement("p",{className:"mt-5"},r.a.createElement("small",null,"In exceptional circumstances, Financial Services can provide an urgent manually processed special cheque. Note, however, that urgent special cheques should be requested only on an emergency basis as manually produced cheques involve duplication of effort and considerable staff resources. Requests need to be supported by a letter explaining the circumstances to justify the special cheque payment"))),r.a.createElement("hr",{className:"d-print-none"}),r.a.createElement("div",{className:"text-right d-print-none"},r.a.createElement(m.a,{type:"primary",onClick:function(){return window.print()}},r.a.createElement(P,{type:"printer"}),r.a.createElement("span",{className:"ml-1"},"Print")))))}}]),a}(n.Component);t.default=function(e){var t=e.match;return r.a.createElement(c.d,null,r.a.createElement(c.a,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/all")}),r.a.createElement(c.b,{path:"".concat(t.url,"/all"),component:O}),r.a.createElement(c.b,{path:"".concat(t.url,"/invoice/:id"),component:A}))}},523:function(e,t,a){"use strict";var n=a(5),r=a.n(n),c=a(2),l=a.n(c),o=a(43),s=a.n(o),i=a(0),u=a(3),m=a.n(u),d=a(39),p=a(90),f=a.n(p),h=a(48),E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},b=function(e){var t,a=i.useContext(h.b).getPrefixCls,n=e.prefixCls,c=e.className,o=e.checked,s=E(e,["prefixCls","className","checked"]),u=a("tag",n),d=m()(u,(t={},r()(t,"".concat(u,"-checkable"),!0),r()(t,"".concat(u,"-checkable-checked"),o),t),c);return delete s.onChange,i.createElement("span",l()({},s,{className:d,onClick:function(t){var a=e.checked,n=e.onChange,r=e.onClick;n&&n(!a),r&&r(t)}}))},v=a(158),g=a(159),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},x=new RegExp("^(".concat(v.a.join("|"),")(-inverse)?$")),N=new RegExp("^(".concat(v.b.join("|"),")$")),O=function(e,t){var a,n=e.prefixCls,c=e.className,o=e.style,u=e.children,p=e.icon,E=e.color,b=e.onClose,v=e.closeIcon,O=e.closable,C=void 0!==O&&O,w=y(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),S=i.useContext(h.b),j=S.getPrefixCls,k=S.direction,T=i.useState(!0),I=s()(T,2),P=I[0],R=I[1];i.useEffect((function(){"visible"in w&&R(w.visible)}),[w.visible]);var A=function(){return!!E&&(x.test(E)||N.test(E))},D=l()({backgroundColor:E&&!A()?E:void 0},o),z=A(),F=j("tag",n),V=m()(F,(a={},r()(a,"".concat(F,"-").concat(E),z),r()(a,"".concat(F,"-has-color"),E&&!z),r()(a,"".concat(F,"-hidden"),!P),r()(a,"".concat(F,"-rtl"),"rtl"===k),a),c),M=function(e){e.stopPropagation(),b&&b(e),e.defaultPrevented||"visible"in w||R(!1)},H="onClick"in w||u&&"a"===u.type,U=Object(d.a)(w,["visible"]),_=p||null,q=_?i.createElement(i.Fragment,null,_,i.createElement("span",null,u)):u,X=i.createElement("span",l()({},U,{ref:t,className:V,style:D}),q,C?v?i.createElement("div",{className:"".concat(F,"-close-icon"),onClick:M},v):i.createElement(f.a,{className:"".concat(F,"-close-icon"),onClick:M}):null);return H?i.createElement(g.a,null,X):X},C=i.forwardRef(O);C.displayName="Tag",C.CheckableTag=b;t.a=C},524:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},c=a(34),l=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};l.displayName="EyeOutlined";t.a=n.forwardRef(l)}}]);
//# sourceMappingURL=13.90eb51b0.chunk.js.map