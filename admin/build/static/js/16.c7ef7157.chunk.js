(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[16],{406:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(72),r=a.n(n);function l(e,t){"function"===typeof e?e(t):"object"===r()(e)&&e&&"current"in e&&(e.current=t)}function c(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){t.forEach((function(t){l(t,e)}))}}},432:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(535),c=a(140),o=a(798),s=function(e){return r.a.createElement(l.a,{overlay:e.menu,placement:e.placement,trigger:["click"]},r.a.createElement("div",{className:"ellipsis-dropdown"},r.a.createElement(o.a,null)))};s.defaultProps={trigger:"click",placement:"bottomRight",menu:r.a.createElement(c.a,null)},t.a=s},555:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(40),c=a(17),o=a(73),s=a(122),i=a(205),u=a(816),m=a(81),d=a(814),p=a(329),E=a(809),f=a(817),h=a(337),b=(a(795),a(432),a(133)),v=a(402),g=(a(449),a(56)),y=(a(524),a(103)),N=a.n(y),x=a(134),S={getOrders:function(e){return new Promise((function(e,t){N.a.get("".concat(x.a,"/cart/orders")).then((function(t){e(t.data)})).catch((function(e){console.log(e),t(e)}))}))},getOrder:function(e){return new Promise((function(t,a){N.a.get("".concat(x.a,"/cart/order/").concat(e.id)).then((function(e){t(e.data)})).catch((function(e){console.log(e),a(e)}))}))}},w=S,T=s.a.Option,j=["TXN_SUCCESS","TXN_FAILED","TXN_PENDING"],O=function(){var e=Object(l.g)(),t=Object(n.useState)(),a=Object(o.a)(t,2),y=a[0],N=a[1],x=Object(n.useState)(y),S=Object(o.a)(x,2),O=S[0],I=S[1],k=Object(n.useState)([]),C=Object(o.a)(k,2),A=(C[0],C[1]),D=Object(n.useState)([]),P=Object(o.a)(D,2),F=P[0],R=P[1];Object(n.useEffect)((function(){w.getOrders().then((function(e){I(e),N(e)})).catch((function(e){i.b.error("Unable to load data. Maybe server not connected.")}))}),[]);var U=[{title:"ID",dataIndex:"orderId"},{title:"Student",dataIndex:"name",sorter:function(e,t){return g.a.antdTableSorter(e,t,"name")}},{title:"Date",dataIndex:"date",render:function(e,t){var a=new Date(t.date);return r.a.createElement("span",null,a.getUTCDate()+1,"/",a.getUTCMonth()+1,"/",a.getUTCFullYear())},sorter:function(e,t){return g.a.antdTableSorter(e,t,"date")}},{title:"Order status",dataIndex:"status",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{color:(a=t.status,"TXN_SUCCESS"===a?"cyan":"TXN_FAILURE"===a?"red":"TXN_PENDING"===a?"gold":"")},t.status));var a},sorter:function(e,t){return g.a.antdTableSorter(e,t,"status")}},{title:"Contact",dataIndex:"phone",sorter:function(e,t){return g.a.antdTableSorter(e,t,"status")}},{title:"Total",dataIndex:"totalAmount",render:function(e,t){return r.a.createElement("span",{className:"font-weight-semibold"},r.a.createElement(v.a,{displayType:"text",value:(Math.round(100*t.totalAmount)/100).toFixed(2),prefix:"Rs",thousandSeparator:!0}))},sorter:function(e,t){return g.a.antdTableSorter(e,t,"totalAmount")}},{title:"",dataIndex:"actions",render:function(t,a){return r.a.createElement(m.a,{onClick:function(){return t=a._id,void e.push("/app/orders/invoice/".concat(t));var t}},r.a.createElement(f.a,null)," View Details")}}],_={onChange:function(e,t){A(t),R(e)}};return r.a.createElement(d.a,null,r.a.createElement(b.a,{alignItems:"center",justifyContent:"between",mobileFlex:!1},r.a.createElement(b.a,{className:"mb-1",mobileFlex:!1},r.a.createElement("div",{className:"mr-md-3 mb-3"},r.a.createElement(p.a,{placeholder:"Search",prefix:r.a.createElement(h.a,null),onChange:function(e){return function(e){var t=e.currentTarget.value,a=e.currentTarget.value?O:y,n=g.a.wildCardSearch(a,t);I(n),R([])}(e)}})),r.a.createElement("div",{className:"mb-3"},r.a.createElement(s.a,{defaultValue:"All",className:"w-100",style:{minWidth:180},onChange:function(e){if("All"!==e){var t=g.a.filterArray(y,"status",e);I(t)}else I(y)},placeholder:"Status"},r.a.createElement(T,{value:"All"},"All payment "),j.map((function(e){return r.a.createElement(T,{key:e,value:e},e)}))))),r.a.createElement("div",null)),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(E.a,{columns:U,dataSource:O,rowKey:"id",rowSelection:Object(c.a)({selectedRowKeys:F,type:"checkbox",preserveSelectedRowKeys:!1},_)})))},I=a(75),k=a(76),C=a(91),A=a(90),D=a(799),P=E.a.Column,F=function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,order:{}},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.getOrder({id:this.state.id}).then((function(t){e.setState({order:t}),console.log(t)})).catch((function(e){i.b.error("Some error occured.")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-md-flex justify-content-md-between"},r.a.createElement("div",null,r.a.createElement("img",{className:"py-5",src:"/admin/img/logo.png",alt:""}),r.a.createElement("address",null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-semibold text-dark font-size-md"},"Rhombus Education"),r.a.createElement("br",null),r.a.createElement("span",null,"47-D Block Near Vakilon Wali Diggi"),r.a.createElement("br",null),r.a.createElement("span",null,"Sri Ganganagar, Rajasthan 335001"),r.a.createElement("br",null),r.a.createElement("abbr",{className:"text-dark",title:"Phone"},"Phone:"),r.a.createElement("span",null,"8905280050")))),r.a.createElement("div",{className:"mt-3 text-right"},r.a.createElement("h2",{className:"mb-1 font-weight-semibold"},"Invoice #",this.state.order.orderId),r.a.createElement("p",null,this.state.order.date),r.a.createElement("address",null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-semibold text-dark font-size-md"},this.state.order.name),r.a.createElement("br",null),r.a.createElement("span",null,this.state.order.billingAddress," ",r.a.createElement("br",null),this.state.order.city,",",this.state.order.state," ",this.state.order.pincode," ",r.a.createElement("br",null),"Phone: ",this.state.order.phone," ",r.a.createElement("br",null)," Email: ",this.state.order.email))))),r.a.createElement("div",{className:"mt-4"},r.a.createElement(E.a,{dataSource:this.state.order.items,pagination:!1,className:"mb-5"},r.a.createElement(P,{title:"Type",dataIndex:"product",key:"product"}),r.a.createElement(P,{title:"Product",dataIndex:"name",key:"product"}),r.a.createElement(P,{title:"Details",dataIndex:"details",key:"details"}),r.a.createElement(P,{title:"Total",render:function(e){return r.a.createElement(v.a,{displayType:"text",value:(Math.round(100*e.amount)/100).toFixed(2),prefix:"$",thousandSeparator:!0})},key:"total"})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("div",{className:"text-right "},r.a.createElement("h2",{className:"font-weight-semibold mt-3"},r.a.createElement("span",{className:"mr-1"},"Grand Total: "),r.a.createElement(v.a,{displayType:"text",value:this.state.order.totalAmount,prefix:"\u20b9",thousandSeparator:!0})))),r.a.createElement("p",{className:"mt-5"},r.a.createElement("small",null,"In exceptional circumstances, Financial Services can provide an urgent manually processed special cheque. Note, however, that urgent special cheques should be requested only on an emergency basis as manually produced cheques involve duplication of effort and considerable staff resources. Requests need to be supported by a letter explaining the circumstances to justify the special cheque payment"))),r.a.createElement("hr",{className:"d-print-none"}),r.a.createElement("div",{className:"text-right d-print-none"},r.a.createElement(m.a,{type:"primary",onClick:function(){return window.print()}},r.a.createElement(D.a,{type:"printer"}),r.a.createElement("span",{className:"ml-1"},"Print")))))}}]),a}(n.Component);t.default=function(e){var t=e.match;return r.a.createElement(l.d,null,r.a.createElement(l.a,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/all")}),r.a.createElement(l.b,{path:"".concat(t.url,"/all"),component:O}),r.a.createElement(l.b,{path:"".concat(t.url,"/invoice/:id"),component:F}))}}}]);
//# sourceMappingURL=16.c7ef7157.chunk.js.map