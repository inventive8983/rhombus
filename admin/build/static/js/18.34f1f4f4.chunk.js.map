{"version":3,"sources":["services/general.js","views/app-views/media/sliderwithurl.js"],"names":["generalAPI","params","Promise","resolve","reject","axios","get","API_BASE_URL","content","then","response","data","catch","error","console","log","post","Sliderwithurl","useState","imgData","setImages","modal","openModal","urls","setUrls","useEffect","getContent","updateGallery","a","addons","trim","split","imgs","forEach","item","push","updateContent","res","message","success","err","length","title","map","src","index","className","key","style","borderRadius","objectFit","width","height","extra","onClick","type","image","imageStyle","description","img","filter","remove","right","bottom","maxWidth","visible","onOk","onCancel","onChange","e","target","value","placeholder","sm","md","lg"],"mappings":"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","file":"static/js/18.34f1f4f4.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport {API_BASE_URL} from '../constants/ApiConstant'\r\n\r\nvar generalAPI = {}\r\n\r\ngeneralAPI.getContent = (params) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(`${API_BASE_URL}/general/${params.content}`)\r\n    .then(response => {\r\n      resolve(response.data)\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\n\r\ngeneralAPI.updateContent = (params,data) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${API_BASE_URL}/general/update/${params.content}`, {content: data})\r\n    .then(response => {\r\n      resolve(response.data)\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\n\r\n\r\n\r\nexport default generalAPI\r\n\r\n\r\n\r\n","import { Button, Card, Image, Input, message, Modal, Row, Col, Empty, Carousel } from 'antd'\r\nimport React, {useEffect, useState} from 'react'\r\nimport generalAPI from 'services/general'\r\nimport {PlusCircleOutlined, DeleteOutlined} from '@ant-design/icons';\r\n\r\nfunction Sliderwithurl() {\r\n\r\n    const [imgData, setImages] = useState([])\r\n    const [modal, openModal] = useState(false)\r\n    const [urls, setUrls] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n\r\n        generalAPI.getContent({content: 'slider'}).then(data => {\r\n           if(data != []) setImages(data)\r\n           console.log(imgData);\r\n        })\r\n\r\n    }, [])\r\n\r\n    const updateGallery = async () => {\r\n        if(urls !== ''){\r\n            const addons = urls.trim().split(',')\r\n            var imgs = imgData\r\n            addons.forEach(item => imgs.push(item))\r\n            generalAPI.updateContent({content: 'slider'}, imgData).then(res => {\r\n                message.success(\"Updated Successfully\")\r\n                setImages(imgs)\r\n                setUrls(\"\")\r\n                openModal(false)\r\n            }).catch(err => {\r\n                message.error(\"Some error occured\")\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    const onChange = e => {\r\n        setUrls(e.target.value)\r\n    };\r\n\r\n    const remove = src => {\r\n        var img = imgData.filter(img => img !== src)\r\n        setImages(img)\r\n        generalAPI.updateContent({content: 'slider'}, img).then(res => {\r\n            message.success(\"Updated Successfully\")\r\n            setUrls(\"\")\r\n            openModal(false)\r\n        }).catch(err => {\r\n            message.error(\"Some error occured\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {imgData.length !== 0 && <Card title=\"Preview\">\r\n            <Carousel>\r\n                {imgData.map((src, index) =>\r\n                    <div className=\"w-100\" key={index}>\r\n                        <img className=\"overflow-hidden\" style={{borderRadius: \"12px\", objectFit:\"cover\"}} width=\"100%\" height=\"640px\" src={src}></img>\r\n                    </div>\r\n                )}  \r\n            </Carousel>\r\n        </Card>}\r\n        <Card title=\"Images\" extra={<Button onClick = {() => {openModal(true)}} type=\"primary\"><PlusCircleOutlined /> Add Image</Button>}>\r\n            <Row>\r\n                {imgData.length === 0 && <Empty\r\n                        image=\"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original\"\r\n                        imageStyle={{\r\n                        height: 60,\r\n                        }}\r\n                        className=\"w-100 py-5\"\r\n                        description={\r\n                        <span>\r\n                            No Images\r\n                        </span>\r\n                        }\r\n                    >\r\n                        <Button onClick = {() => {openModal(true)}} type=\"primary\">Add Images</Button>\r\n                    </Empty>}\r\n                {imgData.length !== 0 && imgData.map((src, index) =>\r\n                    <div className=\"p-2 position-relative\" key={index}>\r\n                        <img className=\"overflow-hidden\" style={{borderRadius: \"12px\", objectFit:\"cover\"}} width=\"200px\" height=\"200px\" src={src}></img>\r\n                        <Button onClick={() => {remove(src)}} type=\"primary\" className=\"position-absolute text-white\" style={{right:\"16px\", bottom:\"16px\"}}><DeleteOutlined /></Button>\r\n                    </div>\r\n                )}    \r\n            </Row>\r\n            <Modal\r\n            width=\"100%\"\r\n            style={{maxWidth: 1140}}\r\n            height=\"100%\"\r\n            title=\"Add Images\"\r\n            visible={modal}\r\n            onOk={() => {updateGallery()}}\r\n            onCancel={() => {openModal(false)}}\r\n            >\r\n                <Input onChange={onChange} value={urls} placeholder=\"Place Image Urls Here\"></Input>\r\n                <Row>\r\n                    {urls !== \"\" && urls.split(',').map((src, index) => \r\n                        <Col key={index} sm={24} md={12} lg={8} className=\"p-2\">\r\n                        <img className=\"overflow-hidden\" style={{borderRadius: \"12px\", objectFit:\"cover\"}} width=\"100%\" height=\"256px\" src={src}></img>\r\n                        </Col>\r\n                    )}    \r\n                </Row>\r\n\r\n            </Modal>\r\n        </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Sliderwithurl\r\n"],"sourceRoot":""}