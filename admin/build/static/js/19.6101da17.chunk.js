(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[19],{337:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="http://localhost:4000/api"},411:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(382),c=a(131),o=a(667),s=function(e){return r.a.createElement(l.a,{overlay:e.menu,placement:e.placement,trigger:["click"]},r.a.createElement("div",{className:"ellipsis-dropdown"},r.a.createElement(o.a,null)))};s.defaultProps={trigger:"click",placement:"bottomRight",menu:r.a.createElement(c.a,null)},t.a=s},537:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(40),c=a(18),o=a(101),s=a(115),i=a(193),u=a(664),m=a(79),d=a(687),p=a(300),E=a(659),h=a(668),f=a(309),b=(a(663),a(411),a(130)),v=a(380),g=(a(448),a(55)),y=(a(513),a(336)),N=a.n(y),S=a(337),x={getOrders:function(e){return new Promise((function(e,t){N.a.get("".concat(S.a,"/cart/orders")).then((function(t){e(t.data)})).catch((function(e){console.log(e),t(e)}))}))},getOrder:function(e){return new Promise((function(t,a){N.a.get("".concat(S.a,"/cart/order/").concat(e.id)).then((function(e){t(e.data)})).catch((function(e){console.log(e),a(e)}))}))}},T=x,k=s.a.Option,w=["TXN_SUCCESS","TXN_FAILED","TXN_PENDING"],I=function(){var e=Object(l.g)(),t=Object(n.useState)(),a=Object(o.a)(t,2),y=a[0],N=a[1],S=Object(n.useState)(y),x=Object(o.a)(S,2),I=x[0],O=x[1],j=Object(n.useState)([]),C=Object(o.a)(j,2),A=(C[0],C[1]),D=Object(n.useState)([]),q=Object(o.a)(D,2),P=q[0],F=q[1];Object(n.useEffect)((function(){T.getOrders().then((function(e){O(e),N(e)})).catch((function(e){i.b.error("Unable to load data. Maybe server not connected.")}))}),[]);var R=[{title:"ID",dataIndex:"orderId"},{title:"Student",dataIndex:"name",sorter:function(e,t){return g.a.antdTableSorter(e,t,"name")}},{title:"Date",dataIndex:"date",render:function(e,t){var a=new Date(t.date);return r.a.createElement("span",null,a.getUTCDate()+1,"/",a.getUTCMonth()+1,"/",a.getUTCFullYear())},sorter:function(e,t){return g.a.antdTableSorter(e,t,"date")}},{title:"Order status",dataIndex:"status",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{color:(a=t.status,"TXN_SUCCESS"===a?"cyan":"TXN_FAILURE"===a?"red":"TXN_PENDING"===a?"gold":"")},t.status));var a},sorter:function(e,t){return g.a.antdTableSorter(e,t,"status")}},{title:"Contact",dataIndex:"phone",sorter:function(e,t){return g.a.antdTableSorter(e,t,"status")}},{title:"Total",dataIndex:"totalAmount",render:function(e,t){return r.a.createElement("span",{className:"font-weight-semibold"},r.a.createElement(v.a,{displayType:"text",value:(Math.round(100*t.totalAmount)/100).toFixed(2),prefix:"Rs",thousandSeparator:!0}))},sorter:function(e,t){return g.a.antdTableSorter(e,t,"totalAmount")}},{title:"",dataIndex:"actions",render:function(t,a){return r.a.createElement(m.a,{onClick:function(){return t=a._id,void e.push("/app/orders/invoice/".concat(t));var t}},r.a.createElement(h.a,null)," View Details")}}],U={onChange:function(e,t){A(t),F(e)}};return r.a.createElement(d.a,null,r.a.createElement(b.a,{alignItems:"center",justifyContent:"between",mobileFlex:!1},r.a.createElement(b.a,{className:"mb-1",mobileFlex:!1},r.a.createElement("div",{className:"mr-md-3 mb-3"},r.a.createElement(p.a,{placeholder:"Search",prefix:r.a.createElement(f.a,null),onChange:function(e){return function(e){var t=e.currentTarget.value,a=e.currentTarget.value?I:y,n=g.a.wildCardSearch(a,t);O(n),F([])}(e)}})),r.a.createElement("div",{className:"mb-3"},r.a.createElement(s.a,{defaultValue:"All",className:"w-100",style:{minWidth:180},onChange:function(e){if("All"!==e){var t=g.a.filterArray(y,"status",e);O(t)}else O(y)},placeholder:"Status"},r.a.createElement(k,{value:"All"},"All payment "),w.map((function(e){return r.a.createElement(k,{key:e,value:e},e)}))))),r.a.createElement("div",null)),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(E.a,{columns:R,dataSource:I,rowKey:"id",rowSelection:Object(c.a)({selectedRowKeys:P,type:"checkbox",preserveSelectedRowKeys:!1},U)})))},O=a(73),j=a(74),C=a(90),A=a(89),D=a(671),q=[{key:"1",product:"Samsung Galaxy S20+",quantity:2,price:899},{key:"2",product:"SonicGear Evo 9 BTMI Speaker",quantity:1,price:199},{key:"3",product:"Sharp Aquos 40-Inch Easy Smart LED TV",quantity:1,price:977}],P=E.a.Column,F=function(e){Object(C.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,order:{}},n}return Object(j.a)(a,[{key:"total",value:function(){var e=0;return q.forEach((function(t){e+=t.price})),e}},{key:"componentDidMount",value:function(){var e=this;T.getOrder({id:this.state.id}).then((function(t){e.setState({order:t}),console.log(t)})).catch((function(e){i.b.error("Some error occured.")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-md-flex justify-content-md-between"},r.a.createElement("div",null,r.a.createElement("img",{className:"py-5",src:"/img/logo.png",alt:""}),r.a.createElement("address",null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-semibold text-dark font-size-md"},"Rhombus Education"),r.a.createElement("br",null),r.a.createElement("span",null,"47-D Block Near Vakilon Wali Diggi"),r.a.createElement("br",null),r.a.createElement("span",null,"Sri Ganganagar, Rajasthan 335001"),r.a.createElement("br",null),r.a.createElement("abbr",{className:"text-dark",title:"Phone"},"Phone:"),r.a.createElement("span",null,"8905280050")))),r.a.createElement("div",{className:"mt-3 text-right"},r.a.createElement("h2",{className:"mb-1 font-weight-semibold"},"Invoice #",this.state.order.orderId),r.a.createElement("p",null,this.state.order.date),r.a.createElement("address",null,r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-semibold text-dark font-size-md"},this.state.order.name),r.a.createElement("br",null),r.a.createElement("span",null,this.state.order.billingAddress," ",r.a.createElement("br",null),this.state.order.city,",",this.state.order.state," ",this.state.order.pincode," ",r.a.createElement("br",null),"Phone: ",this.state.order.phone," ",r.a.createElement("br",null)," Email: ",this.state.order.email))))),r.a.createElement("div",{className:"mt-4"},r.a.createElement(E.a,{dataSource:this.state.order.items,pagination:!1,className:"mb-5"},r.a.createElement(P,{title:"Type",dataIndex:"product",key:"product"}),r.a.createElement(P,{title:"Product",dataIndex:"name",key:"product"}),r.a.createElement(P,{title:"Details",dataIndex:"details",key:"details"}),r.a.createElement(P,{title:"Total",render:function(e){return r.a.createElement(v.a,{displayType:"text",value:(Math.round(100*e.amount)/100).toFixed(2),prefix:"$",thousandSeparator:!0})},key:"total"})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("div",{className:"text-right "},r.a.createElement("h2",{className:"font-weight-semibold mt-3"},r.a.createElement("span",{className:"mr-1"},"Grand Total: "),r.a.createElement(v.a,{displayType:"text",value:this.state.order.totalAmount,prefix:"\u20b9",thousandSeparator:!0})))),r.a.createElement("p",{className:"mt-5"},r.a.createElement("small",null,"In exceptional circumstances, Financial Services can provide an urgent manually processed special cheque. Note, however, that urgent special cheques should be requested only on an emergency basis as manually produced cheques involve duplication of effort and considerable staff resources. Requests need to be supported by a letter explaining the circumstances to justify the special cheque payment"))),r.a.createElement("hr",{className:"d-print-none"}),r.a.createElement("div",{className:"text-right d-print-none"},r.a.createElement(m.a,{type:"primary",onClick:function(){return window.print()}},r.a.createElement(D.a,{type:"printer"}),r.a.createElement("span",{className:"ml-1"},"Print")))))}}]),a}(n.Component);t.default=function(e){var t=e.match;return r.a.createElement(l.d,null,r.a.createElement(l.a,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/all")}),r.a.createElement(l.b,{path:"".concat(t.url,"/all"),component:I}),r.a.createElement(l.b,{path:"".concat(t.url,"/invoice/:id"),component:F}))}}}]);
//# sourceMappingURL=19.6101da17.chunk.js.map