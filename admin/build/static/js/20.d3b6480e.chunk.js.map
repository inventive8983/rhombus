{"version":3,"sources":["constants/ApiConstant.js","services/general.js","views/app-views/media/gallerywithurl.js"],"names":["API_BASE_URL","generalAPI","params","Promise","resolve","reject","axios","get","content","then","response","data","catch","error","console","log","post","Gallerywithurl","useState","imgData","setImages","modal","openModal","urls","setUrls","useEffect","getContent","updateGallery","a","addons","trim","split","imgs","forEach","item","push","updateContent","res","message","success","err","title","extra","onClick","type","length","image","imageStyle","height","className","description","map","src","index","key","sm","md","lg","xl","style","borderRadius","objectFit","width","img","filter","remove","right","bottom","maxWidth","visible","onOk","onCancel","onChange","e","target","value","placeholder"],"mappings":"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","file":"static/js/20.d3b6480e.chunk.js","sourcesContent":["export const API_BASE_URL = 'http://localhost:4000/api'\r\nexport const BASE_URL = 'http://localhost:4000/'\r\n\r\n// export const API_BASE_URL = 'https://rhombusedu.herokuapp.com/api'\r\n// export const BASE_URL = 'https://rhombusedu.herokuapp.com/'","import axios from 'axios'\r\nimport {API_BASE_URL} from '../constants/ApiConstant'\r\n\r\nvar generalAPI = {}\r\n\r\ngeneralAPI.getContent = (params) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(`${API_BASE_URL}/general/${params.content}`)\r\n    .then(response => {\r\n      resolve(response.data)\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\n\r\ngeneralAPI.updateContent = (params,data) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${API_BASE_URL}/general/update/${params.content}`, {content: data})\r\n    .then(response => {\r\n      resolve(response.data)\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\n\r\n\r\n\r\nexport default generalAPI\r\n\r\n\r\n\r\n","import { Button, Card, Image, Input, message, Modal, Row, Col, Empty } from 'antd'\r\nimport React, {useEffect, useState} from 'react'\r\nimport generalAPI from 'services/general'\r\nimport {PlusCircleOutlined, DeleteOutlined} from '@ant-design/icons';\r\nimport Flex from 'components/shared-components/Flex';\r\nimport { image } from 'd3-fetch';\r\n\r\nfunction Gallerywithurl() {\r\n\r\n    const [imgData, setImages] = useState([])\r\n    const [modal, openModal] = useState(false)\r\n    const [urls, setUrls] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n\r\n        generalAPI.getContent({content: 'gallery'}).then(data => {\r\n           if(data != []) setImages(data)\r\n           console.log(imgData);\r\n        })\r\n\r\n    }, [])\r\n\r\n    const updateGallery = async () => {\r\n        if(urls !== ''){\r\n            const addons = urls.trim().split(',')\r\n            var imgs = imgData\r\n            addons.forEach(item => imgs.push(item))\r\n            generalAPI.updateContent({content: 'gallery'}, imgData).then(res => {\r\n                message.success(\"Updated Successfully\")\r\n                setImages(imgs)\r\n                setUrls(\"\")\r\n                openModal(false)\r\n            }).catch(err => {\r\n                message.error(\"Some error occured\")\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    const onChange = e => {\r\n        setUrls(e.target.value)\r\n    };\r\n\r\n    const remove = src => {\r\n        var img = imgData.filter(img => img !== src)\r\n        setImages(img)\r\n        generalAPI.updateContent({content: 'gallery'}, img).then(res => {\r\n            message.success(\"Updated Successfully\")\r\n            setUrls(\"\")\r\n            openModal(false)\r\n        }).catch(err => {\r\n            message.error(\"Some error occured\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Card title=\"Gallery\" extra={<Button onClick = {() => {openModal(true)}} type=\"primary\"><PlusCircleOutlined /> Add Image</Button>}>\r\n            <Row>\r\n                {imgData.length === 0 && <Empty\r\n                        image=\"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original\"\r\n                        imageStyle={{\r\n                        height: 60,\r\n                        }}\r\n                        className=\"w-100 py-5\"\r\n                        description={\r\n                        <span>\r\n                            No Images\r\n                        </span>\r\n                        }\r\n                    >\r\n                        <Button onClick = {() => {openModal(true)}} type=\"primary\">Add Images</Button>\r\n                    </Empty>}\r\n                {imgData.length !== 0 && imgData.map((src, index) =>\r\n                    <Col key={index} sm={24} md={12} lg={8} xl={6} className=\"p-2\">\r\n                        <div className=\"position-relative\">\r\n                            <img className=\"overflow-hidden\" style={{borderRadius: \"12px\", objectFit:\"cover\"}} width=\"100%\" height=\"256px\" src={src}></img>\r\n                            <Button onClick={() => {remove(src)}} type=\"ghost\" className=\"position-absolute text-white\" style={{right:\"16px\", bottom:\"16px\"}}><DeleteOutlined /></Button>\r\n                        </div>\r\n                    </Col>\r\n                )}    \r\n            </Row>\r\n            <Modal\r\n            width=\"100%\"\r\n            style={{maxWidth: 1140}}\r\n            height=\"100%\"\r\n            title=\"Add Images\"\r\n            visible={modal}\r\n            onOk={() => {updateGallery()}}\r\n            onCancel={() => {openModal(false)}}\r\n            >\r\n                <Input onChange={onChange} value={urls} placeholder=\"Place Image Urls Here\"></Input>\r\n                <Row>\r\n                    {urls !== \"\" && urls.split(',').map((src, index) => \r\n                        <Col key={index} sm={24} md={12} lg={8} className=\"p-2\">\r\n                        <img className=\"overflow-hidden\" style={{borderRadius: \"12px\", objectFit:\"cover\"}} width=\"100%\" height=\"256px\" src={src}></img>\r\n                        </Col>\r\n                    )}    \r\n                </Row>\r\n\r\n            </Modal>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Gallerywithurl\r\n"],"sourceRoot":""}