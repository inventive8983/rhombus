(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[21],{332:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="https://rhombusedu.herokuapp.com/api",r="https://rhombusedu.herokuapp.com/"},526:function(e,t,n){"use strict";var a=n(337),r=n.n(a),i=n(332),c={getGallery:function(e){return new Promise((function(t,n){r.a.get("".concat(i.a,"/general/media/").concat(e.folder)).then((function(e){t(e.data)})).catch((function(e){console.log(e),n(e)}))}))},delete:function(e){return new Promise((function(t,n){r.a.delete("".concat(i.a,"/general/media/").concat(e.folder,"/").concat(e.filename)).then((function(e){t(e.data)})).catch((function(e){console.log(e),n(e)}))}))}};t.a=c},673:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n.n(a),i=n(81),c=n(73),l=n(74),o=n(90),u=n(89),s=n(193),f=n(552),m=n(686),d=n(674),h=n(662),p=n(684),v=n(130),g=n(0),w=n.n(g),b=n(554),E=n(332),y=n(526);function x(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}var j=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={previewVisible:!1,previewImage:"",fileList:[]},e.componentDidMount=function(){y.a.getGallery({folder:"covers"}).then((function(t){t=t.map((function(e,t){return{uid:t,name:e,status:"done",url:"".concat(E.b,"media/covers/").concat(e)}})),console.log(t),e.setState({fileList:t})}))},e.handleCancel=function(){return e.setState({previewVisible:!1})},e.handleDelete=function(e){y.a.delete({folder:"covers",filename:e.name}).then((function(e){s.b.success("Successfully deleted")})).catch((function(e){s.b.error("Some error occured")}))},e.handlePreview=function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.url||n.preview){t.next=4;break}return t.next=3,x(n.originFileObj);case 3:n.preview=t.sent;case 4:e.setState({previewImage:n.url||n.preview,previewVisible:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.fileList;return e.setState({fileList:n})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,n=e.previewImage,a=e.fileList,r=w.a.createElement("div",null,w.a.createElement(b.a,null),w.a.createElement("div",{className:"ant-upload-text"},"Upload"));return w.a.createElement(w.a.Fragment,null,w.a.createElement(v.a,{className:"p-3",alignItems:"center",justifyContent:"between"},w.a.createElement(f.a.Title,{strong:!0},"Slider Images")),w.a.createElement(m.a,null,w.a.createElement(d.a,null,this.state.fileList.map((function(e){return w.a.createElement("div",null,w.a.createElement("img",{src:e.url,className:"w-100",style:{height:"600px",maxHeight:"600px",objectFit:"cover"}}))})))),w.a.createElement(m.a,null,w.a.createElement("div",{className:"clearfix"},w.a.createElement(h.a,{action:"".concat(E.a,"/upload/image/covers"),listType:"picture-card",fileList:a,onPreview:this.handlePreview,onChange:this.handleChange,onRemove:this.handleDelete},r),w.a.createElement(p.a,{visible:t,footer:null,onCancel:this.handleCancel},w.a.createElement("img",{alt:"example",style:{width:"100%"},src:n})))))}}]),n}(w.a.Component);t.default=j}}]);
//# sourceMappingURL=21.0a381fb7.chunk.js.map